<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JobOpportune - Sign In</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * {
      margin: 0; padding: 0; box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    body {
      background-color: #f3f2ef;
      color: #333;
      line-height: 1.6;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
    header { background: #fff; box-shadow: 0 2px 5px rgba(0,0,0,0.1); padding: 15px 0; }
    .header-content { display: flex; justify-content: space-between; align-items: center; }
    .logo { font-size: 28px; font-weight: 700; color: #0a66c2; text-decoration: none; }
    .logo span { color: #ff5722; }
    .main-content { flex: 1; display: flex; align-items: center; justify-content: center; padding: 40px 0; }
    .signin-container {
      background: white; border-radius: 10px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);
      width: 100%; max-width: 450px; overflow: hidden;
    }
    .signin-header {
      background: linear-gradient(to right, #0a66c2, #004182);
      color: white; padding: 30px; text-align: center;
    }
    .signin-header h1 { font-size: 28px; margin-bottom: 10px; }
    .signin-header p { font-size: 16px; opacity: 0.9; }
    .signin-body { padding: 30px; }
    .form-group { margin-bottom: 20px; }
    .form-group label { display: block; margin-bottom: 8px; font-weight: 600; color: #555; }
    .form-control {
      width: 100%; padding: 14px; border: 1px solid #ddd; border-radius: 5px; font-size: 16px;
    }
    .form-control:focus { border-color: #0a66c2; outline: none; }
    .btn {
      padding: 14px 20px; border-radius: 5px; font-weight: 600; cursor: pointer;
      transition: all 0.3s; display: block; width: 100%; text-align: center; font-size: 16px;
    }
    .btn-primary { background-color: #0a66c2; color: white; border: none; }
    .btn-primary:hover { background-color: #004182; }
    .divider { text-align: center; margin: 25px 0; position: relative; }
    .divider:before {
      content: ""; position: absolute; left: 0; top: 50%; width: 100%; height: 1px; background: #ddd;
    }
    .divider span { background: white; position: relative; padding: 0 15px; color: #777; }
    .btn-google {
      background: white; color: #444; border: 1px solid #ddd;
      display: flex; align-items: center; justify-content: center; gap: 10px;
    }
    .btn-google:hover { background: #f5f5f5; }
    .signup-link { text-align: center; margin-top: 20px; color: #666; }
    .signup-link a { color: #0a66c2; text-decoration: none; font-weight: 600; }
    .signup-link a:hover { text-decoration: underline; }
    footer { background: #333; color: white; padding: 30px 0 20px; margin-top: auto; }
    .footer-content { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 30px; margin-bottom: 30px; }
    .footer-column h3 { margin-bottom: 20px; font-size: 1.2rem; }
    .footer-column ul { list-style: none; }
    .footer-column ul li { margin-bottom: 10px; }
    .footer-column ul li a { color: #ddd; text-decoration: none; }
    .footer-column ul li a:hover { color: #0a66c2; }
    .social-icons { display: flex; gap: 15px; margin-top: 15px; }
    .social-icons a { color: white; font-size: 1.2rem; }
    .social-icons a:hover { color: #0a66c2; }
    .copyright { text-align: center; padding-top: 20px; border-top: 1px solid #444; color: #ddd; font-size: 0.9rem; }
    
    .remember-forgot {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    
    .remember-me {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .forgot-password {
      font-size: 14px;
      color: #0a66c2;
      text-decoration: none;
    }
    
    .forgot-password:hover {
      text-decoration: underline;
    }
    
    @media (max-width: 576px) {
      .signin-header { padding: 20px; }
      .signin-body { padding: 20px; }
      .remember-forgot {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="container">
      <div class="header-content">
        <a href="opportune.html" class="logo">Job<span>Opportune</span></a>
        <div class="auth-buttons" id="auth-buttons">
          <a href="signup.html" class="btn btn-primary">Sign Up</a>
        </div>
      </div>
    </div>
  </header>

  <!-- Main -->
  <main class="main-content">
    <div class="container">
      <div class="signin-container">
        <div class="signin-header">
          <h1>Sign In</h1>
          <p>Welcome back! Please enter your details</p>
        </div>
        <div class="signin-body">
          <form id="signin-form">
            <div class="form-group">
              <label for="signin-email">Email Address</label>
              <input type="email" id="signin-email" class="form-control" placeholder="Enter your email" required>
            </div>
            <div class="form-group">
              <label for="signin-password">Password</label>
              <input type="password" id="signin-password" class="form-control" placeholder="Enter your password" required>
            </div>
            
            <div class="remember-forgot">
              <div class="remember-me">
                <input type="checkbox" id="remember-me">
                <label for="remember-me">Remember me</label>
              </div>
              <a href="#" class="forgot-password">Forgot password?</a>
            </div>
            
            <button type="submit" class="btn btn-primary">Sign In</button>
          </form>

          <div class="divider"><span>or</span></div>

          <a href="#" class="btn btn-google"><i class="fab fa-google"></i> Continue with Google</a>

          <div class="signup-link">
            New to Opportune? <a href="signup.html">Join now</a>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-column">
          <h3>JobOpportune</h3>
          <p>Find your dream job with our advanced job search platform.</p>
          <div class="social-icons">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-linkedin-in"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
          </div>
        </div>
        <div class="footer-column">
          <h3>For Job Seekers</h3>
          <ul>
            <li><a href="#">Browse Jobs</a></li>
            <li><a href="#">Career Advice</a></li>
            <li><a href="#">Resume Builder</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h3>For Employers</h3>
          <ul>
            <li><a href="#">Post a Job</a></li>
            <li><a href="#">Browse Candidates</a></li>
            <li><a href="#">Pricing Plans</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h3>Resources</h3>
          <ul>
            <li><a href="#">Help Center</a></li>
            <li><a href="#">Blog</a></li>
            <li><a href="#">Contact Us</a></li>
          </ul>
        </div>
      </div>
      <div class="copyright">
        <p>&copy; 2023 Opportune. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Auto-fill last used email if available and remember me is checked
      const lastEmail = localStorage.getItem('lastLoginEmail');
      const rememberMe = localStorage.getItem('rememberMe') === 'true';
      
      if (lastEmail && rememberMe) {
        document.getElementById('signin-email').value = lastEmail;
        document.getElementById('remember-me').checked = true;
      }
      
      document.getElementById('signin-form').addEventListener('submit', function(e) {
        e.preventDefault();

        const email = document.getElementById('signin-email').value.trim();
        const password = document.getElementById('signin-password').value;
        const rememberMe = document.getElementById('remember-me').checked;

        // Store last login email
        localStorage.setItem('lastLoginEmail', email);
        
        // Store remember me preference
        if (rememberMe) {
          localStorage.setItem('rememberMe', 'true');
        } else {
          localStorage.removeItem('rememberMe');
        }

        // Method 1: Check individual user storage
        const storedUser = JSON.parse(localStorage.getItem('user_' + email));
        
        // Method 2: Check users array
        let users = JSON.parse(localStorage.getItem('users')) || [];
        const userFromArray = users.find(u => u.email === email);
        
        // Use whichever user data we find
        const userData = storedUser || userFromArray;

        if (!userData) {
          alert('No account found with this email. Please sign up first.');
          return;
        }

        // Check password
        if (password === userData.password) {
          // Set as current user
          localStorage.setItem('userData', JSON.stringify(userData));
          
          alert(`Welcome back, ${userData.firstName}! Redirecting to your profile...`);
          setTimeout(() => { 
            window.location.href = "profile.html"; 
          }, 1200);
        } else {
          alert('Invalid password. Please try again.');
        }
      });

      // Google sign-in
      document.querySelector('.btn-google').addEventListener('click', function(e) {
        e.preventDefault();
        
        // Check if we have any stored users for demo
        const users = JSON.parse(localStorage.getItem('users')) || [];
        if (users.length > 0) {
          // Auto-login with first stored user for demo
          const demoUser = users[0];
          localStorage.setItem('userData', JSON.stringify(demoUser));
          localStorage.setItem('lastLoginEmail', demoUser.email);
          
          alert(`Signed in as ${demoUser.firstName} ${demoUser.lastName}! Redirecting...`);
          setTimeout(() => { 
            window.location.href = "profile.html"; 
          }, 1200);
        } else {
          alert('No existing accounts found. Please sign up first.');
        }
      });

      // Forgot password
      document.querySelector('.forgot-password').addEventListener('click', function(e) {
        e.preventDefault();
        const email = document.getElementById('signin-email').value.trim();
        if (email) {
          alert(`Password reset instructions would be sent to ${email}`);
        } else {
          alert('Please enter your email address first.');
        }
      });
    });
  </script>
</body>
</html>
